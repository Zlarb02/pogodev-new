import{r as o,j as e,I as c,E as p,C as E,G as b}from"./vendor.9QKwgSsk.js";import{u as P,B as d}from"./index.DizxEyu6.js";import{u as C,m as l,A as z}from"./framer.D4GUNJaP.js";function I(){const h=o.useRef(null),m=C(h,{once:!0,amount:.05}),[a,v]=o.useState(!1),[j,u]=o.useState(new Set);o.useEffect(()=>{const s=()=>{v(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const g=s=>{u(n=>{const t=new Set(n);return t.has(s)?t.delete(s):t.add(s),t})},{openProjectModal:r,handleVisitSite:N,projects:x}=P();o.useEffect(()=>{const s=t=>{const i=t.detail.projectId;i&&u(new Set([i]))},n=t=>{const i=t.detail.projectId;if(i){const f=x.find(k=>k.id===i);f&&r(f)}};return window.addEventListener("openProject",s),window.addEventListener("openProjectModal",n),()=>{window.removeEventListener("openProject",s),window.removeEventListener("openProjectModal",n)}},[x,r]);const w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return e.jsx("section",{id:"projects",ref:h,className:"py-20 bg-muted/30 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(l.h2,{className:"text-2xl md:text-3xl font-bold text-center mb-12 font-['Poppins'] text-foreground",initial:{opacity:1,y:0},animate:m?{opacity:1,y:0}:{opacity:1,y:0},transition:{duration:.6},children:"Mes projets"}),e.jsx(l.h3,{className:"text-xl font-semibold mb-6 text-foreground",initial:{opacity:0,y:20},animate:m?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:.3},children:"Projets professionnels"}),e.jsx(l.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-6xl mx-auto mb-16",variants:w,initial:"visible",animate:"visible",children:x.filter(s=>s.id==="alto"||s.id==="violette").map(s=>e.jsxs(l.div,{className:"bg-card rounded-xl shadow-sm overflow-hidden transition-transform hover:scale-[1.02] relative group",variants:y,whileHover:{y:-5},children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover",loading:"lazy",decoding:"async",width:"800",height:"450"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:e.jsxs(d,{variant:"outline",className:"bg-background/80 hover:bg-background",onClick:()=>r(s),children:[e.jsx(c,{className:"mr-2 h-4 w-4"}),"D√©tails du projet"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",children:s.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 mb-4",children:[s.technologies&&s.technologies.slice(0,3).map((n,t)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-accent/10 text-accent rounded-full",children:n},t)),s.technologies&&s.technologies.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-muted text-muted-foreground rounded-full",children:["+",s.technologies.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline flex items-center",onClick:n=>N(n,s),children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Visiter le site"})]}),e.jsx(d,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:()=>r(s),"aria-label":"Voir les d√©tails du projet",children:e.jsx(c,{className:"h-4 w-4"})})]})]})]},s.id))}),e.jsx(l.div,{className:"mb-16 text-center",initial:{opacity:0,y:20},animate:m?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:.5},children:e.jsxs("p",{className:"text-muted-foreground",children:["üéØ Vous pouvez tester leurs performances avec",e.jsx("a",{href:"https://developers.google.com/web/tools/lighthouse",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Lighthouse"}),", leur √©coconception avec",e.jsx("a",{href:"https://ecoindex.fr/comment-ca-marche/",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Kastor"}),",",e.jsx("a",{href:"https://ecograder.com/",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Ecograder"}),",",e.jsx("a",{href:"https://www.ecoindex.fr/",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Ecoindex"}),",",e.jsx("a",{href:"https://www.websitecarbon.com/",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Website Carbon"}),", et la s√©curit√© avec",e.jsx("a",{href:"https://observatory.mozilla.org/",target:"_blank",rel:"noopener noreferrer",className:"text-accent underline hover:no-underline mx-1",children:"Mozilla Observatory"}),"."]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-foreground",children:"Exp√©rimentations personnelles et projets de formation"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x.filter(s=>s.id!=="alto"&&s.id!=="violette").map(s=>{const n=j.has(s.id);return e.jsxs("div",{className:"bg-card rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{onClick:()=>a&&g(s.id),className:`w-full ${a?"cursor-pointer hover:bg-accent/5":""}`,role:a?"button":void 0,tabIndex:a?0:void 0,"aria-expanded":a?n:!0,onKeyDown:t=>{a&&(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),g(s.id))},children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-36 object-cover",loading:"lazy",decoding:"async",width:"800",height:"450"}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded-full p-2",children:e.jsx(E,{className:`w-6 h-6 text-accent transition-transform duration-300 ${n?"rotate-180":""}`})})}),!a&&e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 flex items-center justify-center transition-opacity group",children:e.jsxs(d,{variant:"outline",size:"sm",className:"bg-background/80 hover:bg-background",onClick:t=>{t.stopPropagation(),r(s)},children:[e.jsx(c,{className:"mr-2 h-3 w-3"}),e.jsx("span",{className:"text-xs",children:"D√©tails"})]})})]})}),e.jsx(z,{initial:!1,children:(n||!a)&&e.jsx(l.div,{initial:a?{height:0,opacity:0}:!1,animate:{height:"auto",opacity:1},exit:a?{height:0,opacity:0}:{},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-semibold mb-1 text-foreground",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[s.technologies&&s.technologies.slice(0,2).map((t,i)=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-accent/10 text-accent rounded-full",children:t},i)),s.technologies&&s.technologies.length>2&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-muted text-muted-foreground rounded-full",children:["+",s.technologies.length-2]})]}),e.jsx("div",{className:"flex items-center justify-between gap-2 text-xs",children:s.id==="mirojo"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.githubUrl&&e.jsxs("a",{href:s.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline flex items-center",children:[e.jsx(b,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Code"})]}),e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline flex items-center",children:[e.jsx(p,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Site"})]})]}),e.jsx(d,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground h-6 w-6 p-0",onClick:()=>r(s),"aria-label":"Voir les d√©tails du projet",children:e.jsx(c,{className:"h-3 w-3"})})]}):e.jsxs(e.Fragment,{children:[s.githubUrl&&e.jsxs("a",{href:s.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline flex items-center",children:[e.jsx(b,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Code source"})]}),e.jsx(d,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground h-6 w-6 p-0",onClick:()=>r(s),"aria-label":"Voir les d√©tails du projet",children:e.jsx(c,{className:"h-3 w-3"})})]})})]})})})]},s.id)})})]})]})})}export{I as Projects};
