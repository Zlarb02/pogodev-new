import{r as e,R as t}from"./framer-motion-BabXW1xk.js";import"./ui-components-C7LWRkcj.js";var n={exports:{}},r={},o=e;var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,c=o.useEffect,i=o.useLayoutEffect,u=o.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(r){return!0}}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return i(function(){o.value=n,o.getSnapshot=t,l(o)&&s({inst:o})},[e,n,t]),c(function(){return l(o)&&s({inst:o}),e(function(){l(o)&&s({inst:o})})},[e]),u(n),n};r.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:f,n.exports=r;var h=n.exports;const d=t.useInsertionEffect,p=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect,v=d||p,m=t=>{const n=e.useRef([t,(...e)=>n[0](...e)]).current;return v(()=>{n[0]=t}),n[1]},y="pushState",E="replaceState",w=["popstate",y,E,"hashchange"],x=e=>{for(const t of w)addEventListener(t,e);return()=>{for(const t of w)removeEventListener(t,e)}},b=(e,t)=>h.useSyncExternalStore(x,e,t),S=()=>location.search,g=()=>location.pathname,k=({ssrPath:e}={})=>b(g,e?()=>e:g),C=(e,{replace:t=!1,state:n=null}={})=>history[t?E:y](n,"",e),O=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[O]){for(const e of[y,E]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,O,{value:!0})}const j=(e="")=>"/"===e?"":e,R=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(P(j(e)),P(t)),P=e=>{try{return decodeURI(e)}catch(t){return e}},L={hook:(e={})=>[k(e),C],searchHook:({ssrSearch:e=""}={})=>b(S,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,a=[],c="",i=e.split("/");for(i[0]||i.shift();o=i.shift();)"*"===(n=o[0])?(a.push(n),c+="?"===o[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=o.indexOf("?",1),s=o.indexOf(".",1),a.push(o.substring(1,~r?r:~s?s:o.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+o.substring(s))):c+="/"+o;return{keys:a,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},K=e.createContext(L),V=()=>e.useContext(K),A={},D=e.createContext(A),I=e=>{const[t,n]=e.hook(e);return[R(e.base,t),m((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):j(t)+e)(t,e.base),r))]},N=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=o.exec(n)||[],[c,...i]=a;return void 0!==c?[!0,(()=>{const e=!1!==s?Object.fromEntries(s.map((e,t)=>[e,i[t]])):a.groups;let t={...i};return e&&Object.assign(t,e),t})(),...r?[c]:[]]:[!1,null]},$=({children:t,...n})=>{var r,o;const s=V(),a=n.hook?L:s;let c=a;const[i,u]=(null==(r=n.ssrPath)?void 0:r.split("?"))??[];u&&(n.ssrSearch=u,n.ssrPath=i),n.hrefs=n.hrefs??(null==(o=n.hook)?void 0:o.hrefs);let l=e.useRef({}),f=l.current,h=f;for(let e in a){const t="base"===e?a[e]+(n[e]||""):n[e]||a[e];f===h&&t!==h[e]&&(l.current=h={...h}),h[e]=t,t===a[e]&&t===c[e]||(c=h)}return e.createElement(K.Provider,{value:c,children:t})},F=({children:t,component:n},r)=>n?e.createElement(n,{params:r}):"function"==typeof t?t(r):t,H=({path:t,nest:n,match:r,...o})=>{const s=V(),[a]=I(s),[c,i,u]=r??N(s.parser,t,a,n),l=(t=>{let n=e.useRef(A);const r=n.current;return n.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([e,t])=>t!==r[e])?t:r})({...e.useContext(D),...i});if(!c)return null;const f=u?e.createElement($,{base:u},F(o,l)):F(o,l);return e.createElement(D.Provider,{value:l,children:f})};e.forwardRef((t,n)=>{const r=V(),[o,s]=I(r),{to:a="",href:c=a,onClick:i,asChild:u,children:l,className:f,replace:h,state:d,...p}=t,v=m(e=>{e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button||(null==i||i(e),e.defaultPrevented||(e.preventDefault(),s(c,t)))}),y=r.hrefs("~"===c[0]?c.slice(1):r.base+c,r);return u&&e.isValidElement(l)?e.cloneElement(l,{onClick:v,href:y}):e.createElement("a",{...p,onClick:v,href:y,className:(null==f?void 0:f.call)?f(o===c):f,children:l,ref:n})});const M=t=>Array.isArray(t)?t.flatMap(t=>M(t&&t.type===e.Fragment?t.props.children:t)):[t],U=({children:t,location:n})=>{const r=V(),[o]=I(r);for(const s of M(t)){let t=0;if(e.isValidElement(s)&&(t=N(r.parser,s.props.path,n||o,s.props.nest))[0])return e.cloneElement(s,{match:t})}return null};export{$ as R,U as S,H as a};
